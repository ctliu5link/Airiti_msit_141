
@model SchemaNotes_11168_v2_.Models.Services.SchemaTablesColumns

<style>
    table td {
        width: 90px;
        white-space: normal;
    }
</style>
<h2>SchemaNotes Details  </h2>
<div class="container body-content">
    <form asp-action="Index" method="post">
        @using (@Html.BeginForm())
        {

            <div class="form-inline search">
                <div class="form-group form-group-lg">
                    <label for="choose">搜尋項目</label>
                    <select id="choose" class="form-control"><option value="objName">物件名稱</option><option value="colName">欄位名稱</option><option value="description">中文名稱</option><option value="remark">備註</option></select>
                </div>
                @{ string keyWord = "SEDoc";
                    <div class="form-group form-group-lg">
                        <label for="switch">搜索資料表</label>
                        <select id="switch" class="form-control" name="tableSelect">
                            @foreach (var items in Model.Item1)
                            {
                                <option value=@items.tableName selected="" name=@items.tableName>@items.tableName</option>
                                keyWord = items.tableName;

                            }
                        </select>
                    </div>
                    <div class="form-group form-group-lg">

                        @Html.TextBox("keyWord", keyWord)
                    </div>
                }
                <div class="form-group form-group-lg">
                    <button type="submit" class="btn btn-primary">確認</button>
                </div>
            </div>

        }
    </form>
    <br>
    @{
        int count = 0;
        foreach (SchemaNotes_11168.Models.DO_schemaNotesTable items in Model.Item1)
        {
            count++;
            <div class="panel-group accordion" id="accordion1" role="tablist" aria-multiselectable="true">
            </div>
            <div class="panel panel-default  ">
                <div class="panel-heading row" role="tab">
                    <div class="col-lg-10">
                        <span class="panel-title" role="button" data-toggle="collapse" data-parent="#accordion1" href="#@count" aria-expanded="false" aria-controls="collapse1">
                            <span class="caret"></span>
                            <strong class="objName">
                                @items.tableName
                            </strong>
                        </span>
                        <a class="description text-info" href="/Home/Details/85575343">
                            @items.tableMSDescription
                        </a>
                    </div>
                    <div class="col-lg-2">
                        <span class="count" data-toggle="tooltip" data-placement="top" title="" data-original-title="注意！此為參考值，非準確值。">
                            筆數:<strong class="text-info">@items.tableRows</strong>
                        </span>
                    </div>

                </div>
            </div>
            <div id="@count" class="panel-body panel-collapse collapse tabDetail" role="tabpanel">
                <table class="tabDetail_left ">
                    <tbody>
                        <tr>
                            <td>物件類型</td>
                            <td>@items.tableType</td>
                        </tr>
                        <tr>
                            <td>結構描述名稱</td>
                            <td>@items.tableStruct </td>
                        </tr>
                        <tr>
                            <td> 物件創建日期  </td>
                            <td>@items.tableCreateTime.ToString("yyyy-MM-dd")</td>
                        </tr>
                        <tr>
                            <td>物件修改日期 </td>
                            <td>@items.tableModifiedTime.ToString("yyyy-MM-dd") </td>
                        </tr>
                    </tbody>
                </table>
                <div class="tabDetail_right">
                    <div>
                        備註 @items.tableRemark
                    </div>
                </div>
            </div>
            <table class="table  table-bordered  table-hover subTable " border="1">
                <thead>
                    <tr>
                        <th scope="col">欄位名稱</th>
                        <th scope="col">欄位說明</th>
                        <th scope="col">資料型態</th>
                        <th scope="col">主鍵</th>
                        <th scope="col">  不為Null</th>
                        <th scope="col">預設值</th>
                        <th scope="col">備註</th>
                    </tr>
                </thead>
                <tbody>
                    @{
                        foreach (SchemaNotes_11168.Models.DO_schemaNotesColumn item in Model.Item2)
                        {
                            if (item.tableName == items.tableName)
                            {
                                <tr>
                                    <td>@item.columnName</td>
                                    <td> @item.columnMSDescription</td>
                                    <td> @item.columnType</td>
                                    <td><input type="checkbox" class="check-box" disabled="disabled" checked=@item.columnPrimaryKey></td>
                                    <td> <input type="checkbox" class="check-box" disabled="disabled" @( item.columnNull == "YES" ? "checked" : "" )></td>
                                    <td>@item.columnDefault</td>
                                    <td> @item.columnRemark</td>
                                </tr>
                            }
                        }
                    }
                </tbody>
            </table>
        }
    }
    <hr>
    <footer>
        <p>© 2022 - SchemaNotes (Version: 0.1.0)</p>
    </footer>
</div>

